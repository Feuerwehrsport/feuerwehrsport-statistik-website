%h3 #{resource.first_name} #{resource.last_name}
= m3_form do |f|
  - Registrations::Assessment.requestable_for_person(form_resource).decorate.each do |assessment|
    .assessment-participation
      = f.simple_fields_for :person_assessment_participations,
        form_resource.person_assessment_participations.find_or_initialize_by(assessment: assessment) do |g|
        = g.input :_destroy, as: :boolean, label: 'Teilnahme', input_html: { checked: g.object.persisted? },
          checked_value: '0', unchecked_value: '1', inline_label: assessment.decorate
        = g.input :assessment_id, as: :hidden

        .row.edit-assesment-type
          .col-md-6
            = g.input :assessment_type, as: :select, collection: resource.competition.possible_assessment_types,
              label: assessment.decorate, label_method: ->(type) { t("assessment_types.#{type}") }, include_blank: false
          .col-md-6.group-competitor-order
            = g.input :group_competitor_order
          .col-md-6.single-competitor-order
            = g.input :single_competitor_order
  .pull-right
    = f.submit class: 'btn btn-primary'
